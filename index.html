<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Adyen – Volatility‑Adjusted Demand Planning Dashboard</title>
<style>
  :root{
    --bg:#0f172a;/* slate-900 */
    --panel:#111827;/* gray-900 */
    --muted:#94a3b8;/* slate-400 */
    --text:#e5e7eb;/* gray-200 */
    --accent:#22d3ee;/* cyan-400 */
    --accent2:#a78bfa;/* violet-400 */
    --warn:#fbbf24;/* amber-300 */
    --danger:#f87171;/* red-400 */
    --ok:#34d399;/* emerald-400 */
  }
  *{box-sizing:border-box}
  body{margin:0;background:linear-gradient(180deg,#0b1228, #0f172a);color:var(--text);font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji","Segoe UI Emoji";}
  .container{max-width:1200px;margin:24px auto;padding:0 16px;}
  .grid{display:grid;gap:16px}
  .grid.cols-3{grid-template-columns:repeat(3, minmax(0,1fr))}
  .grid.cols-2{grid-template-columns:repeat(2, minmax(0,1fr))}
  @media (max-width:960px){.grid.cols-3,.grid.cols-2{grid-template-columns:1fr}}
  .card{background:rgba(17,24,39,.7);border:1px solid rgba(148,163,184,.15);border-radius:16px;padding:16px;backdrop-filter: blur(8px);box-shadow:0 10px 25px rgba(0,0,0,.25)}
  h1{font-size:28px;letter-spacing:.3px;margin:0 0 8px}
  h2{font-size:18px;margin:0 0 8px;color:#c7d2fe}
  p{color:var(--muted);margin:6px 0 12px}
  .kpis{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:12px}
  @media (max-width:960px){.kpis{grid-template-columns:repeat(2, minmax(0,1fr))}}
  .kpi{background:linear-gradient(180deg, rgba(148,163,184,.08), rgba(148,163,184,.02));border:1px dashed rgba(148,163,184,.25);border-radius:12px;padding:12px}
  .kpi .label{font-size:12px;color:#9ca3af}
  .kpi .value{font-size:22px;font-weight:700;margin-top:4px}
  .badge{display:inline-block;padding:4px 10px;border-radius:999px;font-size:12px;border:1px solid rgba(148,163,184,.3);color:#cbd5e1}
  .row{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  input[type=range]{width:200px}
  .small{font-size:12px;color:#9ca3af}
  .btn{background:transparent;border:1px solid rgba(148,163,184,.35);padding:8px 12px;border-radius:10px;color:var(--text);cursor:pointer}
  .btn:hover{border-color:var(--accent)}
  table{width:100%;border-collapse:collapse}
  th,td{padding:8px 10px;border-bottom:1px solid rgba(148,163,184,.2);text-align:right}
  th:first-child, td:first-child{text-align:left}
  .legend{display:flex;gap:12px;align-items:center}
  .legend .dot{width:10px;height:10px;border-radius:999px;display:inline-block}
  .dot.base{background:var(--accent)}
  .dot.up{background:var(--ok)}
  .dot.down{background:var(--danger)}
  .alert{padding:10px;border-radius:10px;margin-top:8px}
  .alert.warn{background:rgba(251,191,36,.08);border:1px solid rgba(251,191,36,.35);color:#fde68a}
  .alert.danger{background:rgba(248,113,113,.08);border:1px solid rgba(248,113,113,.35);color:#fecaca}
  .pill{padding:4px 8px;border-radius:999px;background:rgba(34,211,238,.12);border:1px solid rgba(34,211,238,.35);color:#a5f3fc;font-size:12px}
  .sub{font-size:13px;color:#a1a1aa}
  .hl{color:#eab308}
  .footer{margin-top:16px;color:#9ca3af;font-size:12px}
  #chart{width:100%;height:260px;border:1px solid rgba(148,163,184,.15);border-radius:12px;background:linear-gradient(180deg, rgba(30,41,59,.5), rgba(2,6,23,.4));}
</style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>Adyen – Volatility‑Adjusted Demand Planning</h1>
      <div class="row">
        <span class="badge">Pain Point: Forecast instability from tariffs, demand shifts & large‑client exposure</span>
        <span class="badge">Solution: Scenario‑based, risk‑adjusted hardware demand model</span>
        <span class="badge">Region Focus: America (US, CA, MX, BR)</span>
      </div>
      <p class="sub">This interactive HTML dashboard shows how to translate merchant & macro volatility into a resilient hardware forecast with <span class="hl">Base</span>, <span class="hl">Upside</span>, and <span class="hl">Downside</span> scenarios, plus risk alerts and forecast discipline KPIs.</p>
    </div>

    <div class="grid cols-3" style="margin-top:12px">
      <div class="card">
        <h2>Scenario Inputs</h2>
        <div class="row">
          <label>Monthly Base Demand (terminals)</label>
          <input id="base" type="number" min="0" step="10" value="1200" />
        </div>
        <div class="row">
          <label>Growth Rate (YoY %)</label>
          <input id="growth" type="range" min="-20" max="40" value="8" />
          <span id="growthVal" class="small">8%</span>
        </div>
        <div class="row">
          <label>Tariff / Macro Impact (%)</label>
          <input id="tariff" type="range" min="0" max="30" value="6" />
          <span id="tariffVal" class="small">6%</span>
        </div>
        <div class="row">
          <label>Large Client Dependence (Downside hit %)</label>
          <input id="client" type="range" min="0" max="30" value="10" />
          <span id="clientVal" class="small">10%</span>
        </div>
        <div class="row">
          <label>Commercial Uplift (Upside %)</label>
          <input id="uplift" type="range" min="0" max="30" value="7" />
          <span id="upliftVal" class="small">7%</span>
        </div>
        <div class="row">
          <button class="btn" id="recalc">Recalculate</button>
          <span class="pill">Outputs refresh instantly</span>
        </div>
        <div id="alerts"></div>
      </div>

      <div class="card">
        <h2>KPIs</h2>
        <div class="kpis">
          <div class="kpi"><div class="label">Base Annual Forecast</div><div class="value" id="k_base">–</div><div class="small">sum of 12 months</div></div>
          <div class="kpi"><div class="label">Upside Annual Forecast</div><div class="value" id="k_up">–</div><div class="small">with commercial uplift</div></div>
          <div class="kpi"><div class="label">Downside Annual Forecast</div><div class="value" id="k_down">–</div><div class="small">tariff + client risk</div></div>
          <div class="kpi"><div class="label">Risk Buffer Needed</div><div class="value" id="k_buffer">–</div><div class="small">base − downside</div></div>
        </div>
        <div class="legend" style="margin-top:10px">
          <span class="dot base"></span><span class="small">Base</span>
          <span class="dot up"></span><span class="small">Upside</span>
          <span class="dot down"></span><span class="small">Downside</span>
        </div>
        <svg id="chart" viewBox="0 0 1000 260" preserveAspectRatio="none"></svg>
      </div>

      <div class="card">
        <h2>Forecast Discipline</h2>
        <p class="small">Enter last month’s actual to track forecast deviation and trigger governance:</p>
        <div class="row">
          <label>Last Month Base Forecast</label>
          <input id="lastFcst" type="number" min="0" step="1" value="1250" />
        </div>
        <div class="row">
          <label>Last Month Actual</label>
          <input id="lastActual" type="number" min="0" step="1" value="1120" />
          <button class="btn" id="checkDev">Check Deviation</button>
        </div>
        <div id="devOut" class="alert warn" style="display:none"></div>
        <table style="margin-top:10px">
          <thead>
            <tr><th>Driver</th><th>Impact</th><th>Note</th></tr>
          </thead>
          <tbody id="drivers">
            <tr><td>Commercial delay</td><td>-4%</td><td>slipped rollout in US</td></tr>
            <tr><td>Tariff friction</td><td>-2%</td><td>import cost shock</td></tr>
            <tr><td>Whale client</td><td>-3%</td><td>push to Q2</td></tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="grid cols-2" style="margin-top:16px">
      <div class="card">
        <h2>How This Solves the Pain Point</h2>
        <ul>
          <li><strong>Scenario Forecasting:</strong> plan Base / Upside / Downside so supply is ready for volatility.</li>
          <li><strong>Deviation Governance:</strong> track Forecast vs Actual, tie to root causes, and escalate early.</li>
          <li><strong>Risk Buffering:</strong> compute inventory protection = Base − Downside.</li>
          <li><strong>Commercial Alignment:</strong> uplift reflects confirmed merchant rollouts (Salesforce inputs).</li>
          <li><strong>Continuous Improvement:</strong> monthly learning loops improve accuracy over time.</li>
        </ul>
      </div>
      <div class="card">
        <h2>Planning Mindset Highlights</h2>
        <ol>
          <li>“I focus on demand forecasting that stays aligned with real merchant behavior and market shifts.”</li>
          <li>“I use scenario planning to prepare for best, worst, and expected demand cases — not just one number.”</li>
          <li>“My goal is to ensure terminal availability without tying up excess inventory or capital.”</li>
        </ol>
        <p class="footer">These highlights communicate strategic thinking and practical control in demand planning.</p>
      </div>
    </div>
  </div>

<script>
(function(){
  const $ = (id)=>document.getElementById(id);
  const fmt = (n)=>Number(n).toLocaleString(undefined,{maximumFractionDigits:0});

  const inputs = ['base','growth','tariff','client','uplift'];
  function getState(){
    return {
      base: +$("base").value,
      growth: +$("growth").value/100,
      tariff: +$("tariff").value/100,
      client: +$("client").value/100,
      uplift: +$("uplift").value/100
    };
  }

  function projectSeries(){
    const s = getState();
    const months = Array.from({length:12},(_,i)=>i);
    const base = months.map(i => s.base * Math.pow(1+s.growth/12, i));
    const up = base.map(v => v * (1 + s.uplift));
    const down = base.map(v => v * (1 - s.tariff - s.client));
    return {months, base, up, down};
  }

  function totals(arr){ return arr.reduce((a,b)=>a+b,0); }

  function updateKPIs(){
    const {base, up, down} = projectSeries();
    $("k_base").textContent = fmt(totals(base));
    $("k_up").textContent = fmt(totals(up));
    $("k_down").textContent = fmt(totals(down));
    $("k_buffer").textContent = fmt(totals(base) - totals(down));
  }

  function updateLabels(){
    $("growthVal").textContent = Math.round(+$("growth").value)+"%";
    $("tariffVal").textContent = Math.round(+$("tariff").value)+"%";
    $("clientVal").textContent = Math.round(+$("client").value)+"%";
    $("upliftVal").textContent = Math.round(+$("uplift").value)+"%";
  }

  function drawChart(){
    const svg = $("chart");
    const W = 1000, H = 260, P = 24; // padding
    const {base, up, down} = projectSeries();
    const maxY = Math.max(...base, ...up, ...down) * 1.08;
    function scaleX(i){ return P + i * ((W-2*P)/11); }
    function scaleY(v){ return H - P - (v/maxY)*(H-2*P); }

    function pathFor(series){
      return series.map((v,i)=>`${i?"L":"M"}${scaleX(i)},${scaleY(v)}`).join(' ');
    }

    svg.innerHTML = `
      <defs>
        <linearGradient id="gBase" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%" stop-color="#22d3ee" stop-opacity=".9"/>
          <stop offset="100%" stop-color="#22d3ee" stop-opacity=".2"/>
        </linearGradient>
        <linearGradient id="gUp" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%" stop-color="#34d399" stop-opacity=".9"/>
          <stop offset="100%" stop-color="#34d399" stop-opacity=".2"/>
        </linearGradient>
        <linearGradient id="gDown" x1="0" x2="0" y1="0" y2="1">
          <stop offset="0%" stop-color="#f87171" stop-opacity=".9"/>
          <stop offset="100%" stop-color="#f87171" stop-opacity=".2"/>
        </linearGradient>
      </defs>
      <rect x="0" y="0" width="${W}" height="${H}" fill="transparent"/>
      ${[0,1,2,3,4].map(t=>{
        const y = P + t*((H-2*P)/4);
        return `<line x1="${P}" y1="${y}" x2="${W-P}" y2="${y}" stroke="rgba(148,163,184,.15)"/>`;
      }).join('')}
      <path d="${pathFor(base)}" fill="none" stroke="url(#gBase)" stroke-width="2.5" />
      <path d="${pathFor(up)}" fill="none" stroke="url(#gUp)" stroke-width="2.5" />
      <path d="${pathFor(down)}" fill="none" stroke="url(#gDown)" stroke-width="2.5" />
      ${base.map((v,i)=>`<circle cx="${scaleX(i)}" cy="${scaleY(v)}" r="2.7" fill="#22d3ee"/>`).join('')}
      ${up.map((v,i)=>`<circle cx="${scaleX(i)}" cy="${scaleY(v)}" r="2.7" fill="#34d399"/>`).join('')}
      ${down.map((v,i)=>`<circle cx="${scaleX(i)}" cy="${scaleY(v)}" r="2.7" fill="#f87171"/>`).join('')}
    `;
  }

  function refresh(){
    updateLabels();
    updateKPIs();
    drawChart();
    riskAlerts();
  }

  function riskAlerts(){
    const {tariff, client} = getState();
    const container = $("alerts");
    container.innerHTML = '';
    if(tariff + client >= .20){
      const el = document.createElement('div');
      el.className = 'alert danger';
      el.textContent = 'High risk: Combined downside ≥ 20%. Escalate S&OP, secure buffer, and align warehousing on order flows.';
      container.appendChild(el);
    } else if (tariff + client >= .10){
      const el = document.createElement('div');
      el.className = 'alert warn';
      el.textContent = 'Moderate risk: Combined downside ≥ 10%. Tighten forecast cadence and validate merchant rollouts.';
      container.appendChild(el);
    }
  }

  function deviationCheck(){
    const f = +$("lastFcst").value; const a = +$("lastActual").value;
    const dev = (a - f) / (f || 1);
    const box = $("devOut");
    const pct = Math.round(dev*100);
    box.style.display = 'block';
    box.className = 'alert ' + (Math.abs(dev) >= .1 ? 'danger' : 'warn');
    box.textContent = `Last month deviation: ${pct}% vs forecast. Action: root‑cause review → update scenario levers → adjust allocation.`;
  }

  // Bindings
  $("recalc").addEventListener('click', refresh);
  $("checkDev").addEventListener('click', deviationCheck);
  inputs.forEach(id=>$(id).addEventListener('input', refresh));

  // Initial paint
  refresh();
})();
</script>
</body>
</html>
